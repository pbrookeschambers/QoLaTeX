\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{qomath}[2021/11/21 Easy math formatting for LaTeX]

\RequirePackage{amsmath}
\RequirePackage{amssymb}

\RequirePackage{ifthen} % I don't like needing this package, it's quite bulky and it'd be good if we can remove it eventually

\let\thorne\th						%renaming a command that would otherwise be replaced

\newcommand{\uvec}[1]{\hat{x}}			%unit vector in the style of the normal \vec command

%\renewcommand{\vec}[1]{\mathbf{#1}}		%bold style \vec and \uvec commands to be implemented as an option with the package later
%\newcommand{\uvec}[1]{\mathbf{\hat{{#1}}}}

\newcommand{\diverge}{\nabla\cdot}			%common uses of the nabla sybol
\newcommand{\curl}{\nabla\times}
\newcommand{\laplace}{\nabla^2}

\newcommand{\real}{\mathbb{R}}			%number sets notation
\newcommand{\complex}{\mathbb{C}}
\newcommand{\integer}{\mathbb{Z}}
\newcommand{\nat}{\mathbb{N}}				%\natural conflicts with an existing LaTeX symbol
\newcommand{\rational}{\mathbb{Q}}
\newcommand{\irrational}{\mathbb{I}}

\newcommand{\inver}[1]{\frac{1}{{#1}}}								%derivatives, partial derivatives and reciprocals (oh my!)
\newcommand{\deriv}[3][]{\frac{\text{d}^{#1}{#2}}{\text{d}{#3}^{#1}}}
\newcommand{\dderiv}[3]{\frac{\text{d}^2{#1}}{\text{d}{#2}\,\text{d}{#3}}}
\newcommand{\pderiv}[3][]{\frac{\partial^{#1}{#2}}{\partial{#3}^{#1}}}
\newcommand{\ppderiv}[3]{\frac{\partial^2 {#1}}{\partial {#2}\,\partial {#3}}}

\newcommand{\lrbracket}[1]{\left({#1}\right)}	%[l]eft-[r]ight [bracket]s
\newcommand{\lrsquare}[1]{\left[{#1}\right]}	%^^
\newcommand{\lrbrace}[1]{\left\{{#1}\right\}}	%^^
\newcommand{\lrangle}[1]{\left<{#1}\right>}	%^^
\newcommand{\lrpipe}[1]{\left|{#1}\right|}	%^^

\newcommand{\ullimit}[2]{^{^{#2}}_{_{#1}}}	%Integrals, [u]pper-[l]ower [limit]s (from 1st argument to 2nd argument)
\newcommand{\limint}[2]{\int\ullimit{#1}{#2}}
\newcommand{\fullint}[4]{\limint{#1}{#2}{#3}\,\text{d}{#4}}

\newcommand{\bra}[1]{\left<\left.{#1}\right|\right.}						%bra and ket, bra-ket is going to cause some trouble
\newcommand{\ket}[1]{\left.\left|{#1}\right.\right>}
% \newcommand{\Braket}[2]{\left<\left.{#1}\,\right|\left.{#2}\right.\right>}		%\bra-ket prototypes, probably not going stay as this
% \newcommand{\braKet}[2]{\left<\left.{#1}\right.\left|\,{#2}\right.\right>}		%the idea is you switch versions based on which side is taller
\newcommand{\braket}[2]{
    \newdimen\leftheight
    \setbox0=\hbox{\ensuremath{#1}}
    \leftheight=\ht0 \advance\leftheight by \dp0
    \newdimen\rightheight
    \setbox0=\hbox{\ensuremath{#2}}
    \rightheight=\ht0 \advance\rightheight by \dp0
    \ifthenelse{\lengthtest{\leftheight > \rightheight}}{
        \ensuremath{\left\langle \left. #1 \right| #2 \right\rangle}
    }{
        \ensuremath{\left\langle #1 \left| #2 \right. \right\rangle}
    }
}

\newcommand{\st}{\textsuperscript{st}}		%ordinal shortcuts, for use in math environment and inline text
\newcommand{\nd}{\textsuperscript{nd}}
\newcommand{\rd}{\textsuperscript{rd}}
\renewcommand{\th}{\textsuperscript{th}}

\newcommand{\bigO}[1]{\text{O}\lrbracket{#1}}	%BIG O

\newcommand{\eTo}[1]{e^{^{#1}}}			%exponentials with extra space for very large exponents
