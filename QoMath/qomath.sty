\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{qomath}[2021/11/21 Easy math formatting for LaTeX]

\RequirePackage{amsmath}
\RequirePackage{amssymb}

\let\thorne\th						%renaming a command that would otherwise be replaced

\newcommand{\uvec}[1]{\hat{x}}			%unit vector in the style of the normal \vec command

%\renewcommand{\vec}[1]{\mathbf{#1}}		%bold style \vec and \uvec commands to be implemented as an option with the package later
%\newcommand{\uvec}[1]{\mathbf{\hat{{#1}}}}

\newcommand{\diverge}{\nabla\cdot}			%common uses of the nabla sybol
\newcommand{\curl}{\nabla\times}
\newcommand{\laplace}{\nabla^2}

\newcommand{\real}{\mathbb{R}}			%number sets notation
\newcommand{\complex}{\mathbb{C}}
\newcommand{\integer}{\mathbb{Z}}
\newcommand{\nat}{\mathbb{N}}				%\natural conflicts with an existing LaTeX symbol
\newcommand{\rational}{\mathbb{Q}}
\newcommand{\irrational}{\mathbb{I}}

\newcommand{\inver}[1]{\frac{1}{{#1}}}								%derivatives, partial derivatives and reciprocals (oh my!)
\newcommand{\deriv}[3][]{\frac{\text{d}^{#1}{#2}}{\text{d}{#3}^{#1}}}
\newcommand{\dderiv}[3]{\frac{\text{d}^2{#1}}{\text{d}{#2}\,\text{d}{#3}}}
\newcommand{\pderiv}[3][]{\frac{\partial^{#1}{#2}}{\partial{#3}^{#1}}}
\newcommand{\ppderiv}[3]{\frac{\partial^2 {#1}}{\partial {#2}\,\partial {#3}}}

\newcommand{\lrbracket}[1]{\left({#1}\right)}	%[l]eft-[r]ight [bracket]s
\newcommand{\lrsquare}[1]{\left[{#1}\right]}	%^^
\newcommand{\lrbrace}[1]{\left\{{#1}\right\}}	%^^
\newcommand{\lrangle}[1]{\left<{#1}\right>}	%^^
\newcommand{\lrpipe}[1]{\left|{#1}\right|}	%^^
\newcommand{\rlangle}[1]{\left>{#1}\right<}	%inward pointing version of \lrangle

\newcommand{\ullimit}[2]{^{^{#2}}_{_{#1}}}	%Integrals, [u]pper-[l]ower [limit]s (from 1st argument to 2nd argument)
\newcommand{\limint}[2]{\int\ullimit{#1}{#2}}
\newcommand{\fullint}[4]{\limint{#1}{#2}\!{#3}\,\text{d}{#4}}

\newcommand{\bra}[1]{\left<\left.\!{#1}\right|\right.\!}		%bra and ket
\newcommand{\ket}[1]{\left.\!\left|{#1}\right.\!\right>}
\newcommand{\braket}[2]{		%braket, scaling to the larger of the arguments
	\newdimen\lheight
	\setbox0=\hbox{\ensuremath{#1}}
	\lheight=\ht0
	\advance\lheight by \dp0
	\newdimen\rheight
	\setbox0=\hbox{\ensuremath{#2}}
	\rheight=\ht0
	\advance\rheight by \dp0
	\ifdim\lheight>\rheight
		\lrangle{\left.\!{#1}\right|{#2}}
	\else
		\lrangle{{#1}\left|{#2}\right.\!}
	\fi
}
\newcommand{\ketbra}[2]{		%ketbra, scaling to the larger of the arguments
	\newdimen\lheight
	\setbox0=\hbox{\ensuremath{#1}}
	\lheight=\ht0
	\advance\lheight by \dp0
	\newdimen\rheight
	\setbox0=\hbox{\ensuremath{#2}}
	\rheight=\ht0
	\advance\rheight by \dp0
	\ifdim\lheight>\rheight
		\lrpipe{\left.\left.\!{#1}\right>\!\right<{#2}}
	\else
		\lrpipe{{#1}\left>\!\left<{#2}\right.\right.\!}
	\fi
}
\newcommand{\braketwrap}[3]{		%bra and ket wrapped around a central matrix, scaling to the larger of the arguments
	\newdimen\lheight
	\setbox0=\hbox{\ensuremath{{#1}{#2}}}
	\lheight=\ht0
	\advance\lheight by \dp0
	\newdimen\rheight
	\setbox0=\hbox{\ensuremath{{#2}{#3}}}
	\rheight=\ht0
	\advance\rheight by \dp0
	\ifdim\lheight>\rheight
		\lrangle{\left.\left.\!{#1}\right|\!{#2}\,\right|{#3}}
	\else
		\ifdim\rheight>\lheight
			\lrangle{{#1}\left|\,{#2}\!\left|{#3}\right.\right.\!}
		\else
			\lrangle{{#1}\lrpipe{{#2}}{#3}}
		\fi
	\fi
}
\newcommand{\ketbrawrap}[3]{		%ket and bra wrapped around a central matrix, scaling to the larger of the arguments
	\newdimen\lheight
	\setbox0=\hbox{\ensuremath{{#1}{#2}}}
	\lheight=\ht0
	\advance\lheight by \dp0
	\newdimen\rheight
	\setbox0=\hbox{\ensuremath{{#2}{#3}}}
	\rheight=\ht0
	\advance\rheight by \dp0
	\ifdim\lheight>\rheight
		\lrpipe{\left.\left.\!{#1}\right>\!{#2}\,\right<{#3}}
	\else
		\ifdim\rheight>\lheight
			\lrpipe{{#1}\left>\,{#2}\!\left<{#3}\right.\right.\!}
		\else
			\lrpipe{{#1}\rlangle{{#2}}{#3}}
		\fi
	\fi
}

\newcommand{\st}{\textsuperscript{st}}		%ordinal shortcuts, for use in math environment and inline text
\newcommand{\nd}{\textsuperscript{nd}}
\newcommand{\rd}{\textsuperscript{rd}}
\renewcommand{\th}{\textsuperscript{th}}

\newcommand{\bigO}[1]{\text{O}\!\lrbracket{#1}}	%BIG O

\newcommand{\eTo}[1]{e^{#1}}				%exponentials
\newcommand{\eeTo}[1]{e\!^{^{#1}}}			%extra space for very large exponents

\newcommand{\isotope}[3]{{}^{#2}_{#3}\text{#1}}
